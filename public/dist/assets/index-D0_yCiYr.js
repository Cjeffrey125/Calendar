import{c as j}from"./utils-DTaVIxUI.js";import{l as _e,e as B,o as ge,P as N,a as De,h as pe,d as Ae}from"./createLucideIcon-D3v5KCbW.js";import{a as le,c as he,o as ke,m as Ee,i as Oe,g as ae,P as Re,p as fe,f as ee,d as Ie,b as $e,X as Me}from"./x-JHNnOB_t.js";import{f as A,R as be,s as b,r as E,u as t,o as u,c as p,w as f,d as Q,t as G,h as q,i as O,H as Ce,D as Fe,x as ue,I as Se,g as oe,a as I,l as k,e as Ve,O as Le,F as ne,p as qe,j as de,k as ce,v as Be,b as Ne,af as Ke,q as ve}from"./app-BAe7lWst.js";const[J,Ue]=he("ToastProvider"),Xe=A({inheritAttrs:!1,__name:"ToastProvider",props:{label:{default:"Notification"},duration:{default:5e3},swipeDirection:{default:"right"},swipeThreshold:{default:50}},setup(a){const e=a,{label:o,duration:s,swipeDirection:n,swipeThreshold:d}=be(e);le({isProvider:!0});const y=b(),r=b(0),i=b(!1),c=b(!1);if(e.label&&typeof e.label=="string"&&!e.label.trim()){const w="Invalid prop `label` supplied to `ToastProvider`. Expected non-empty `string`.";throw new Error(w)}return Ue({label:o,duration:s,swipeDirection:n,swipeThreshold:d,toastCount:r,viewport:y,onViewportChange(w){y.value=w},onToastAdd(){r.value++},onToastRemove(){r.value--},isFocusedToastEscapeKeyDownRef:i,isClosePausedRef:c}),(w,g)=>E(w.$slots,"default")}}),We="toast.swipeStart",Ye="toast.swipeMove",je="toast.swipeCancel",He="toast.swipeEnd",re="toast.viewportPause",ie="toast.viewportResume";function z(a,e,o){const s=o.originalEvent.currentTarget,n=new CustomEvent(a,{bubbles:!1,cancelable:!0,detail:o});e&&s.addEventListener(a,e,{once:!0}),s.dispatchEvent(n)}function me(a,e,o=0){const s=Math.abs(a.x),n=Math.abs(a.y),d=s>n;return e==="left"||e==="right"?d&&s>o:!d&&n>o}function ze(a){return a.nodeType===a.ELEMENT_NODE}function xe(a){const e=[];return Array.from(a.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),ze(s)){const n=s.ariaHidden||s.hidden||s.style.display==="none",d=s.dataset.rekaToastAnnounceExclude==="";if(!n)if(d){const y=s.dataset.rekaToastAnnounceAlt;y&&e.push(y)}else e.push(...xe(s))}}),e}const Qe=A({__name:"ToastAnnounce",setup(a){const e=J(),o=ke(1e3),s=b(!1);return _e(()=>{s.value=!0}),(n,d)=>t(o)||s.value?(u(),p(t(Ee),{key:0},{default:f(()=>[Q(G(t(e).label.value)+" ",1),E(n.$slots,"default")]),_:3})):q("",!0)}}),[Ge,Je]=he("ToastRoot"),Ze=A({inheritAttrs:!1,__name:"ToastRootImpl",props:{type:{},open:{type:Boolean,default:!1},duration:{},asChild:{type:Boolean},as:{default:"li"}},emits:["close","escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd"],setup(a,{emit:e}){const o=a,s=e,{forwardRef:n,currentElement:d}=B(),{CollectionItem:y}=le(),r=J(),i=b(null),c=b(null),w=O(()=>typeof o.duration=="number"?o.duration:r.duration.value),g=b(0),$=b(w.value),L=b(0),S=b(w.value),v=_e(()=>{const m=new Date().getTime()-g.value;S.value=Math.max($.value-m,0)},{fpsLimit:60});function T(m){m<=0||m===Number.POSITIVE_INFINITY||Oe&&(window.clearTimeout(L.value),g.value=new Date().getTime(),L.value=window.setTimeout(C,m))}function C(m){var h,x;const _=(m==null?void 0:m.pointerType)==="";((h=d.value)==null?void 0:h.contains(ae()))&&_&&((x=r.viewport.value)==null||x.focus()),_&&(r.isClosePausedRef.value=!1),s("close")}const M=O(()=>d.value?xe(d.value):null);if(o.type&&!["foreground","background"].includes(o.type)){const m="Invalid prop `type` supplied to `Toast`. Expected `foreground | background`.";throw new Error(m)}return Ce(m=>{const _=r.viewport.value;if(_){const l=()=>{T($.value),v.resume(),s("resume")},h=()=>{const x=new Date().getTime()-g.value;$.value=$.value-x,window.clearTimeout(L.value),v.pause(),s("pause")};return _.addEventListener(re,h),_.addEventListener(ie,l),()=>{_.removeEventListener(re,h),_.removeEventListener(ie,l)}}}),Fe(()=>[o.open,w.value],()=>{$.value=w.value,o.open&&!r.isClosePausedRef.value&&T(w.value)},{immediate:!0}),ge("Escape",m=>{s("escapeKeyDown",m),m.defaultPrevented||(r.isFocusedToastEscapeKeyDownRef.value=!0,C())}),ue(()=>{r.onToastAdd()}),Se(()=>{r.onToastRemove()}),Je({onClose:C}),(m,_)=>(u(),oe(ne,null,[M.value?(u(),p(Qe,{key:0,role:"alert","aria-live":m.type==="foreground"?"assertive":"polite","aria-atomic":"true"},{default:f(()=>[Q(G(M.value),1)]),_:1},8,["aria-live"])):q("",!0),t(r).viewport.value?(u(),p(Le,{key:1,to:t(r).viewport.value},[I(t(y),null,{default:f(()=>[I(t(N),k({ref:t(n),role:"alert","aria-live":"off","aria-atomic":"true",tabindex:"0"},m.$attrs,{as:m.as,"as-child":m.asChild,"data-state":m.open?"open":"closed","data-swipe-direction":t(r).swipeDirection.value,style:{userSelect:"none",touchAction:"none"},onPointerdown:_[0]||(_[0]=Ve(l=>{i.value={x:l.clientX,y:l.clientY}},["left"])),onPointermove:_[1]||(_[1]=l=>{if(!i.value)return;const h=l.clientX-i.value.x,x=l.clientY-i.value.y,F=!!c.value,V=["left","right"].includes(t(r).swipeDirection.value),P=["left","up"].includes(t(r).swipeDirection.value)?Math.min:Math.max,Z=V?P(0,h):0,K=V?0:P(0,x),H=l.pointerType==="touch"?10:2,U={x:Z,y:K},X={originalEvent:l,delta:U};F?(c.value=U,t(z)(t(Ye),W=>s("swipeMove",W),X)):t(me)(U,t(r).swipeDirection.value,H)?(c.value=U,t(z)(t(We),W=>s("swipeStart",W),X),l.target.setPointerCapture(l.pointerId)):(Math.abs(h)>H||Math.abs(x)>H)&&(i.value=null)}),onPointerup:_[2]||(_[2]=l=>{const h=c.value,x=l.target;if(x.hasPointerCapture(l.pointerId)&&x.releasePointerCapture(l.pointerId),c.value=null,i.value=null,h){const F=l.currentTarget,V={originalEvent:l,delta:h};t(me)(h,t(r).swipeDirection.value,t(r).swipeThreshold.value)?t(z)(t(He),P=>s("swipeEnd",P),V):t(z)(t(je),P=>s("swipeCancel",P),V),F==null||F.addEventListener("click",P=>P.preventDefault(),{once:!0})}})}),{default:f(()=>[E(m.$slots,"default",{remaining:S.value,duration:w.value})]),_:3},16,["as","as-child","data-state","data-swipe-direction"])]),_:3})],8,["to"])):q("",!0)],64))}}),et=A({__name:"ToastRoot",props:{defaultOpen:{type:Boolean,default:!0},forceMount:{type:Boolean},type:{default:"foreground"},open:{type:Boolean,default:void 0},duration:{},asChild:{type:Boolean},as:{default:"li"}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(a,{emit:e}){const o=a,s=e,{forwardRef:n}=B(),d=De(o,"open",s,{defaultValue:o.defaultOpen,passive:o.open===void 0});return(y,r)=>(u(),p(t(Re),{present:y.forceMount||t(d)},{default:f(()=>[I(Ze,k({ref:t(n),open:t(d),type:y.type,as:y.as,"as-child":y.asChild,duration:y.duration},y.$attrs,{onClose:r[0]||(r[0]=i=>d.value=!1),onPause:r[1]||(r[1]=i=>s("pause")),onResume:r[2]||(r[2]=i=>s("resume")),onEscapeKeyDown:r[3]||(r[3]=i=>s("escapeKeyDown",i)),onSwipeStart:r[4]||(r[4]=i=>{s("swipeStart",i),i.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:r[5]||(r[5]=i=>{s("swipeMove",i);const{x:c,y:w}=i.detail.delta,g=i.currentTarget;g.setAttribute("data-swipe","move"),g.style.setProperty("--reka-toast-swipe-move-x",`${c}px`),g.style.setProperty("--reka-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:r[6]||(r[6]=i=>{s("swipeCancel",i);const c=i.currentTarget;c.setAttribute("data-swipe","cancel"),c.style.removeProperty("--reka-toast-swipe-move-x"),c.style.removeProperty("--reka-toast-swipe-move-y"),c.style.removeProperty("--reka-toast-swipe-end-x"),c.style.removeProperty("--reka-toast-swipe-end-y")}),onSwipeEnd:r[7]||(r[7]=i=>{s("swipeEnd",i);const{x:c,y:w}=i.detail.delta,g=i.currentTarget;g.setAttribute("data-swipe","end"),g.style.removeProperty("--reka-toast-swipe-move-x"),g.style.removeProperty("--reka-toast-swipe-move-y"),g.style.setProperty("--reka-toast-swipe-end-x",`${c}px`),g.style.setProperty("--reka-toast-swipe-end-y",`${w}px`),d.value=!1})}),{default:f(({remaining:i,duration:c})=>[E(y.$slots,"default",{remaining:i,duration:c,open:t(d)})]),_:3},16,["open","type","as","as-child","duration"])]),_:3},8,["present"]))}}),tt=A({__name:"ToastAnnounceExclude",props:{altText:{},asChild:{type:Boolean},as:{}},setup(a){return(e,o)=>(u(),p(t(N),{as:e.as,"as-child":e.asChild,"data-reka-toast-announce-exclude":"","data-reka-toast-announce-alt":e.altText||void 0},{default:f(()=>[E(e.$slots,"default")]),_:3},8,["as","as-child","data-reka-toast-announce-alt"]))}}),st=A({__name:"ToastClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(a){const e=a,o=Ge(),{forwardRef:s}=B();return(n,d)=>(u(),p(tt,{"as-child":""},{default:f(()=>[I(t(N),k(e,{ref:t(s),type:n.as==="button"?"button":void 0,onClick:t(o).onClose}),{default:f(()=>[E(n.$slots,"default")]),_:3},16,["type","onClick"])]),_:3}))}}),ye=A({__name:"FocusProxy",emits:["focusFromOutsideViewport"],setup(a,{emit:e}){const o=e,s=J();return(n,d)=>(u(),p(t(Ee),{"aria-hidden":"true",tabindex:"0",style:{position:"fixed"},onFocus:d[0]||(d[0]=y=>{var c;const r=y.relatedTarget;!((c=t(s).viewport.value)!=null&&c.contains(r))&&o("focusFromOutsideViewport")})},{default:f(()=>[E(n.$slots,"default")]),_:3}))}}),at=A({__name:"DismissableLayerBranch",props:{asChild:{type:Boolean},as:{}},setup(a){const e=a,{forwardRef:o,currentElement:s}=B();return ue(()=>{fe.branches.add(s.value)}),Se(()=>{fe.branches.delete(s.value)}),(n,d)=>(u(),p(t(N),k({ref:t(o)},e),{default:f(()=>[E(n.$slots,"default")]),_:3},16))}}),ot=A({inheritAttrs:!1,__name:"ToastViewport",props:{hotkey:{default:()=>["F8"]},label:{type:[String,Function],default:"Notifications ({hotkey})"},asChild:{type:Boolean},as:{default:"ol"}},setup(a){const e=a,{hotkey:o,label:s}=be(e),{forwardRef:n,currentElement:d}=B(),{CollectionSlot:y,getItems:r}=le(),i=J(),c=O(()=>i.toastCount.value>0),w=b(),g=b(),$=O(()=>o.value.join("+").replace(/Key/g,"").replace(/Digit/g,""));ge(o.value,()=>{d.value.focus()}),ue(()=>{i.onViewportChange(d.value)}),Ce(S=>{const v=d.value;if(c.value&&v){const T=()=>{if(!i.isClosePausedRef.value){const l=new CustomEvent(re);v.dispatchEvent(l),i.isClosePausedRef.value=!0}},C=()=>{if(i.isClosePausedRef.value){const l=new CustomEvent(ie);v.dispatchEvent(l),i.isClosePausedRef.value=!1}},M=l=>{!v.contains(l.relatedTarget)&&C()},m=()=>{v.contains(ae())||C()},_=l=>{var F,V,P;const h=l.altKey||l.ctrlKey||l.metaKey;if(l.key==="Tab"&&!h){const Z=ae(),K=l.shiftKey;if(l.target===v&&K){(F=w.value)==null||F.focus();return}const X=L({tabbingDirection:K?"backwards":"forwards"}),W=X.findIndex(Pe=>Pe===Z);ee(X.slice(W+1))?l.preventDefault():K?(V=w.value)==null||V.focus():(P=g.value)==null||P.focus()}};v.addEventListener("focusin",T),v.addEventListener("focusout",M),v.addEventListener("pointermove",T),v.addEventListener("pointerleave",m),v.addEventListener("keydown",_),window.addEventListener("blur",T),window.addEventListener("focus",C),S(()=>{v.removeEventListener("focusin",T),v.removeEventListener("focusout",M),v.removeEventListener("pointermove",T),v.removeEventListener("pointerleave",m),v.removeEventListener("keydown",_),window.removeEventListener("blur",T),window.removeEventListener("focus",C)})}});function L({tabbingDirection:S}){const T=r().map(C=>C.ref).map(C=>{const M=[C,...Ie(C)];return S==="forwards"?M:M.reverse()});return(S==="forwards"?T.reverse():T).flat()}return(S,v)=>(u(),p(t(at),{role:"region","aria-label":typeof t(s)=="string"?t(s).replace("{hotkey}",$.value):t(s)($.value),tabindex:"-1",style:qe({pointerEvents:c.value?void 0:"none"})},{default:f(()=>[c.value?(u(),p(ye,{key:0,ref:T=>{w.value=t(pe)(T)},onFocusFromOutsideViewport:v[0]||(v[0]=()=>{const T=L({tabbingDirection:"forwards"});t(ee)(T)})},null,512)):q("",!0),I(t(y),null,{default:f(()=>[I(t(N),k({ref:t(n),tabindex:"-1",as:S.as,"as-child":S.asChild},S.$attrs),{default:f(()=>[E(S.$slots,"default")]),_:3},16,["as","as-child"])]),_:3}),c.value?(u(),p(ye,{key:1,ref:T=>{g.value=t(pe)(T)},onFocusFromOutsideViewport:v[1]||(v[1]=()=>{const T=L({tabbingDirection:"backwards"});t(ee)(T)})},null,512)):q("",!0)]),_:3},8,["aria-label","style"]))}}),nt=A({__name:"ToastTitle",props:{asChild:{type:Boolean},as:{}},setup(a){const e=a;return B(),(o,s)=>(u(),p(t(N),de(ce(e)),{default:f(()=>[E(o.$slots,"default")]),_:3},16))}}),rt=A({__name:"ToastDescription",props:{asChild:{type:Boolean},as:{}},setup(a){const e=a;return B(),(o,s)=>(u(),p(t(N),de(ce(e)),{default:f(()=>[E(o.$slots,"default")]),_:3},16))}}),it={__name:"Toast",props:{class:{type:null,required:!1},variant:{type:null,required:!1},onOpenChange:{type:Function,required:!1,skipCheck:!0},defaultOpen:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1},type:{type:String,required:!1},open:{type:Boolean,required:!1},duration:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(a,{emit:e}){const o=a,s=e,n=O(()=>{const{class:y,...r}=o;return r}),d=$e(n,s);return(y,r)=>(u(),p(t(et),k(t(d),{class:t(j)(t(Tt)({variant:a.variant}),o.class),"onUpdate:open":a.onOpenChange}),{default:f(()=>[E(y.$slots,"default")]),_:3},16,["class","onUpdate:open"]))}},lt={__name:"ToastClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(a){const e=a,o=O(()=>{const{class:s,...n}=e;return n});return(s,n)=>(u(),p(t(st),k(o.value,{class:t(j)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e.class)}),{default:f(()=>[I(t(Me),{class:"h-4 w-4"})]),_:1},16,["class"]))}},we={__name:"ToastDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(a){const e=a,o=O(()=>{const{class:s,...n}=e;return n});return(s,n)=>(u(),p(t(rt),k({class:t(j)("text-sm opacity-90",e.class)},o.value),{default:f(()=>[E(s.$slots,"default")]),_:3},16,["class"]))}},ut=1,dt=1e6,R={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let te=0;function ct(){return te=(te+1)%Number.MAX_VALUE,te.toString()}const se=new Map;function Te(a){if(se.has(a))return;const e=setTimeout(()=>{se.delete(a),Y({type:R.REMOVE_TOAST,toastId:a})},dt);se.set(a,e)}const D=b({toasts:[]});function Y(a){switch(a.type){case R.ADD_TOAST:D.value.toasts=[a.toast,...D.value.toasts].slice(0,ut);break;case R.UPDATE_TOAST:D.value.toasts=D.value.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e);break;case R.DISMISS_TOAST:{const{toastId:e}=a;e?Te(e):D.value.toasts.forEach(o=>{Te(o.id)}),D.value.toasts=D.value.toasts.map(o=>o.id===e||e===void 0?{...o,open:!1}:o);break}case R.REMOVE_TOAST:a.toastId===void 0?D.value.toasts=[]:D.value.toasts=D.value.toasts.filter(e=>e.id!==a.toastId);break}}function pt(){return{toasts:O(()=>D.value.toasts),toast:ft,dismiss:a=>Y({type:R.DISMISS_TOAST,toastId:a})}}function ft(a){const e=ct(),o=n=>Y({type:R.UPDATE_TOAST,toast:{...n,id:e}}),s=()=>Y({type:R.DISMISS_TOAST,toastId:e});return Y({type:R.ADD_TOAST,toast:{...a,id:e,open:!0,onOpenChange:n=>{n||s()}}}),{id:e,dismiss:s,update:o}}const vt={class:"grid gap-1"},bt={__name:"Toaster",setup(a){const{toasts:e}=pt();return(o,s)=>(u(),p(t(mt),null,{default:f(()=>[(u(!0),oe(ne,null,Be(t(e),n=>(u(),p(t(it),k({key:n.id,ref_for:!0},n),{default:f(()=>[Ne("div",vt,[n.title?(u(),p(t(yt),{key:0},{default:f(()=>[Q(G(n.title),1)]),_:2},1024)):q("",!0),n.description?(u(),oe(ne,{key:1},[Ke(n.description)?(u(),p(t(we),{key:0},{default:f(()=>[(u(),p(ve(n.description)))]),_:2},1024)):(u(),p(t(we),{key:1},{default:f(()=>[Q(G(n.description),1)]),_:2},1024))],64)):q("",!0),I(t(lt))]),(u(),p(ve(n.action)))]),_:2},1040))),128)),I(t(wt))]),_:1}))}},mt={__name:"ToastProvider",props:{label:{type:String,required:!1},duration:{type:Number,required:!1},swipeDirection:{type:String,required:!1},swipeThreshold:{type:Number,required:!1}},setup(a){const e=a;return(o,s)=>(u(),p(t(Xe),de(ce(e)),{default:f(()=>[E(o.$slots,"default")]),_:3},16))}},yt={__name:"ToastTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(a){const e=a,o=O(()=>{const{class:s,...n}=e;return n});return(s,n)=>(u(),p(t(nt),k(o.value,{class:t(j)("text-sm font-semibold",e.class)}),{default:f(()=>[E(s.$slots,"default")]),_:3},16,["class"]))}},wt={__name:"ToastViewport",props:{hotkey:{type:Array,required:!1},label:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(a){const e=a,o=O(()=>{const{class:s,...n}=e;return n});return(s,n)=>(u(),p(t(ot),k(o.value,{class:t(j)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e.class)}),null,16,["class"]))}},Tt=Ae("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[--reka-toast-swipe-end-x] data-[swipe=move]:translate-x-[--reka-toast-swipe-move-x] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}});export{bt as _,pt as u};
