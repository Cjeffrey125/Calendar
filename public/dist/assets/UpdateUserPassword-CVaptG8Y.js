import{s as f,C as y,g as c,a as o,u as s,w as a,F as x,o as w,b as t,d as n,h as b,e as v}from"./app-CpNEOMge.js";import{u as P,_ as V}from"./index-uoloT8OB.js";import{_ as k}from"./createLucideIcon-DB3gKnX-.js";import{_ as d}from"./Label-FYI49tQi.js";import{_ as u}from"./Input-CFxR0ow8.js";import{_ as $,a as S,b as U}from"./CardHeader-mDs3gUio.js";import{_ as C}from"./CardContent-G-2y3ARC.js";import{_ as N}from"./CardFooter-DQf1WJhT.js";import{_ as I}from"./InputError-CS7qW90v.js";import"./utils-DTaVIxUI.js";import"./x-gRKSSdn5.js";const B={class:"flex items-center ml-auto"},E={key:0,class:"text-sm text-gray-600"},L={__name:"UpdateUserPassword",setup(F){const m=f(null),i=f(null),{toast:p}=P(),e=y({current_password:"",password:"",password_confirmation:""}),_=async()=>{e.processing=!0;try{await e.put(route("password.update"),{preserveScroll:!0}),p({title:"Success",description:"Password updated successfully.",variant:"success"}),e.reset()}catch{p({title:"Error",description:"Something went wrong. Please try again.",variant:"error"}),e.errors.password&&(e.reset("password","password_confirmation"),m.value.focus()),e.errors.current_password&&(e.reset("current_password"),i.value.focus())}finally{e.processing=!1}};return(g,r)=>(w(),c(x,null,[o(s(V)),o(s(U),{class:"mt-24"},{default:a(()=>[o(s($),null,{default:a(()=>[r[4]||(r[4]=t("span",{class:"font-bold text-2xl"},"Update Password",-1)),o(s(S),null,{default:a(()=>r[3]||(r[3]=[n(" Ensure your account is using a long, random password to stay secure. ")])),_:1})]),_:1}),t("form",{onSubmit:v(_,["prevent"]),class:"space-y-6"},[o(s(C),null,{default:a(()=>[t("div",null,[o(s(d),{for:"currentPassword",class:"block text-sm font-medium text-gray-700"},{default:a(()=>r[5]||(r[5]=[n("Current Password")])),_:1}),o(s(u),{id:"current_password",ref_key:"currentPasswordInput",ref:i,modelValue:s(e).current_password,"onUpdate:modelValue":r[0]||(r[0]=l=>s(e).current_password=l),type:"password",class:"mt-1 block w-full",autocomplete:"current-password"},null,8,["modelValue"])]),t("div",null,[o(s(d),{for:"newPassword",class:"block text-sm font-medium text-gray-700"},{default:a(()=>r[6]||(r[6]=[n("New Password")])),_:1}),o(s(u),{id:"password",ref_key:"passwordInput",ref:m,modelValue:s(e).password,"onUpdate:modelValue":r[1]||(r[1]=l=>s(e).password=l),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"])]),t("div",null,[o(s(d),{for:"confirmPassword",class:"block text-sm font-medium text-gray-700"},{default:a(()=>r[7]||(r[7]=[n("Confirm Password")])),_:1}),o(s(u),{id:"password_confirmation",modelValue:s(e).password_confirmation,"onUpdate:modelValue":r[2]||(r[2]=l=>s(e).password_confirmation=l),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"]),o(I,{message:s(e).errors.password_confirmation,class:"mt-2"},null,8,["message"])])]),_:1}),o(s(N),null,{default:a(()=>[t("div",B,[o(s(k),{disabled:s(e).processing,class:"bg-green-600 text-white hover:bg-green-700"},{default:a(()=>r[8]||(r[8]=[n(" Save ")])),_:1},8,["disabled"])]),s(e).recentlySuccessful?(w(),c("p",E,"Saved.")):b("",!0)]),_:1})],32)]),_:1})],64))}};export{L as default};
