import{_ as g}from"./createLucideIcon-DB3gKnX-.js";import{_ as E,a as y,b,c as N,d as O,e as k,f as B,g as P,h as $,i as A,j as D}from"./SelectValue-DbSke__C.js";import{_ as F}from"./DialogDescription-Dq5-dysc.js";import{_ as S}from"./DialogTrigger-BLThXSLJ.js";import{_ as v}from"./Input-CFxR0ow8.js";import{_ as f}from"./Label-FYI49tQi.js";import{u as T,_ as j}from"./index-uoloT8OB.js";import{f as G,s as p,o as M,g as R,a as s,u as a,w as l,d as t,b as u,F as h,y as q}from"./app-CpNEOMge.js";const z={class:"grid gap-4 py-4"},H={class:"grid grid-cols-4 items-center gap-4"},I={class:"grid grid-cols-4 items-center gap-4"},J={class:"grid grid-cols-4 items-center gap-4"},K={class:"grid grid-cols-4 items-center gap-4"},ae=G({__name:"CreateUserModal",props:{isOpen:Boolean},emits:["update:isOpen","refresh-users"],setup(w,{emit:U}){const{toast:_}=T(),V=w,o=p(""),i=p(""),n=p(""),d=p(""),c=U,x=()=>{c("update:isOpen",!1)},C=async()=>{if(!o.value||!i.value||!n.value||!d.value){_({title:"Error Creating the User",description:"Please fill in all fields before submitting.",variant:"destructive"});return}try{const m={name:o.value,email:i.value,password:n.value,roles:d.value};(await q.post("/api/create-user",m)).status===201&&(_({title:"User Created",description:`User ${o.value} has been created successfully.`,variant:"success"}),o.value="",i.value="",n.value="",d.value="",x(),c("refresh-users"))}catch(m){_({title:"Error",description:"Something went wrong while creating the user. Please try again.",variant:"destructive"}),console.error("Error creating user:",m)}};return(m,e)=>(M(),R(h,null,[s(a(j)),s(a(D),{open:V.isOpen,"onUpdate:open":e[4]||(e[4]=r=>c("update:isOpen",r))},{default:l(()=>[s(a(S),{"as-child":""},{default:l(()=>[s(a(g),{variant:"outline"},{default:l(()=>e[5]||(e[5]=[t(" Create User ")])),_:1})]),_:1}),s(a(E),{class:"sm:max-w-[425px]"},{default:l(()=>[s(a(y),null,{default:l(()=>[s(a(b),null,{default:l(()=>e[6]||(e[6]=[t("Create User")])),_:1}),s(a(F),null,{default:l(()=>e[7]||(e[7]=[t(" Create the user profile here. Click save when you're done. ")])),_:1})]),_:1}),u("div",z,[u("div",H,[s(a(f),{for:"name",class:"text-right"},{default:l(()=>e[8]||(e[8]=[t(" Name ")])),_:1}),s(a(v),{id:"name",modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=r=>o.value=r),class:"col-span-3",placeholder:"Enter Name"},null,8,["modelValue"])]),u("div",I,[s(a(f),{for:"email",class:"text-right"},{default:l(()=>e[9]||(e[9]=[t(" Email ")])),_:1}),s(a(v),{id:"email",modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=r=>i.value=r),class:"col-span-3",placeholder:"Enter Email"},null,8,["modelValue"])]),u("div",J,[s(a(f),{for:"password",class:"text-right"},{default:l(()=>e[10]||(e[10]=[t(" Password ")])),_:1}),s(a(v),{id:"password",modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=r=>n.value=r),type:"password",class:"col-span-3",placeholder:"Enter Password"},null,8,["modelValue"])]),u("div",K,[s(a(f),{for:"role",class:"text-right"},{default:l(()=>e[11]||(e[11]=[t(" Role: ")])),_:1}),s(a(N),{modelValue:d.value,"onUpdate:modelValue":e[3]||(e[3]=r=>d.value=r)},{default:l(()=>[s(a(O),{class:"w-[120px]"},{default:l(()=>[s(a(k),{placeholder:"Select role"})]),_:1}),s(a(B),null,{default:l(()=>[s(a(P),null,{default:l(()=>[s(a($),{value:"Admin"},{default:l(()=>e[12]||(e[12]=[t("Admin")])),_:1}),s(a($),{value:"User"},{default:l(()=>e[13]||(e[13]=[t("User")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),s(a(A),null,{default:l(()=>[s(a(g),{variant:"lightGreen",onClick:C},{default:l(()=>e[14]||(e[14]=[t(" Create User ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64))}});export{ae as _};
