import{f as D,s as m,o as V,g as T,a as t,u as l,w as a,d as n,b as s,A as _,B as b,F as U,y as k}from"./app-Da3hQlmN.js";import{_ as B,a as N,b as O,c as F,d as M,e as Y,f as A,g as H,h as u,i as P,j}from"./SelectValue-CPaLEt9L.js";import{_ as G}from"./DialogDescription-D23TqFJU.js";import{_ as q}from"./DialogTrigger-B_i0QwJj.js";import{_ as x}from"./createLucideIcon-CGMSlLNO.js";import{u as z,_ as I}from"./index-BrjTR_4_.js";const J={class:"space-y-4 mb-8"},K={class:"flex space-x-4"},c=D({__name:"EventModal",props:{isOpen:Boolean},emits:["update:isOpen","refresh-events"],setup(w,{emit:g}){const{toast:y}=z(),S=w,i=m(""),d=m(""),r=m(""),v=m(""),f=m(""),E=g,$=()=>{E("update:isOpen",!1)},C=async()=>{if(!i.value||!d.value||!r.value||!v.value||!f.value){y({title:"Error Creating the Event",description:"Please fill in all fields before submitting.",variant:"destructive"});return}try{const p={event:i.value,details:d.value,event_type:r.value,start_date:v.value,end_date:f.value};(await k.post("/api/events",p)).status===201&&(y({title:"Event Created",description:`${i.value} has been created successfully.`,variant:"success"}),i.value="",d.value="",r.value="",v.value="",f.value="",$(),E("refresh-events"))}catch(p){y({title:"Error",description:"Something went wrong while creating the user. Please try again.",variant:"destructive"}),console.error("Error creating user:",p)}};return(p,e)=>(V(),T(U,null,[t(l(I)),t(l(j),{open:S.isOpen,"onUpdate:open":e[5]||(e[5]=o=>E("update:isOpen",o))},{default:a(()=>[t(l(q),{"as-child":""},{default:a(()=>[t(l(x),{variant:"outline"},{default:a(()=>e[6]||(e[6]=[n(" Create Event ")])),_:1})]),_:1}),t(l(B),null,{default:a(()=>[t(l(N),null,{default:a(()=>[t(l(O),null,{default:a(()=>e[7]||(e[7]=[n("Create Event")])),_:1}),t(l(G),null,{default:a(()=>e[8]||(e[8]=[n(" Create the event here. Click save when you're done. ")])),_:1})]),_:1}),s("div",J,[s("div",null,[e[9]||(e[9]=s("label",{class:"font-semibold text-sm"},"Event Name:",-1)),_(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),class:"w-full border rounded p-2",type:"text"},null,512),[[b,i.value]])]),s("div",null,[e[10]||(e[10]=s("label",{class:"font-semibold text-sm"},"Details:",-1)),_(s("textarea",{"onUpdate:modelValue":e[1]||(e[1]=o=>d.value=o),class:"w-full border rounded p-2",rows:"3"},null,512),[[b,d.value]])]),s("div",null,[e[19]||(e[19]=s("label",{class:"font-semibold text-sm"},"Event Type:",-1)),t(l(F),{modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=o=>r.value=o)},{default:a(()=>[t(l(M),{class:"w-full"},{default:a(()=>[t(l(Y),{placeholder:r.value||"Select Type"},null,8,["placeholder"])]),_:1}),t(l(A),null,{default:a(()=>[t(l(H),null,{default:a(()=>[t(l(u),{value:"Start of School Year"},{default:a(()=>e[11]||(e[11]=[n("Start of School Year")])),_:1}),t(l(u),{value:"End of School Year"},{default:a(()=>e[12]||(e[12]=[n("End of School Year")])),_:1}),t(l(u),{value:"Midterm"},{default:a(()=>e[13]||(e[13]=[n("Midterm")])),_:1}),t(l(u),{value:"Finals"},{default:a(()=>e[14]||(e[14]=[n("Finals")])),_:1}),t(l(u),{value:"Holiday"},{default:a(()=>e[15]||(e[15]=[n("Holiday")])),_:1}),t(l(u),{value:"Seminars"},{default:a(()=>e[16]||(e[16]=[n("Seminars")])),_:1}),t(l(u),{value:"Academic Events"},{default:a(()=>e[17]||(e[17]=[n("Academic Events")])),_:1}),t(l(u),{value:"Examination Day"},{default:a(()=>e[18]||(e[18]=[n("Examination Day")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),s("div",K,[s("div",null,[e[20]||(e[20]=s("label",{class:"font-semibold text-sm"},"Start Date:",-1)),_(s("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>v.value=o),class:"border rounded p-2 w-full",type:"date"},null,512),[[b,v.value]])]),s("div",null,[e[21]||(e[21]=s("label",{class:"font-semibold text-sm"},"End Date:",-1)),_(s("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>f.value=o),class:"border rounded p-2 w-full",type:"date"},null,512),[[b,f.value]])])])]),t(l(P),null,{default:a(()=>[t(l(x),{variant:"secondary",onClick:$},{default:a(()=>e[22]||(e[22]=[n("Close")])),_:1}),t(l(x),{variant:"lightGreen",onClick:C},{default:a(()=>e[23]||(e[23]=[n("Save")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64))}});export{c as _};
