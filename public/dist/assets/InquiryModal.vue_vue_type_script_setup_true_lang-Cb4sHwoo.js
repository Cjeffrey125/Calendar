import{f as D,s as S,D as V,o as y,g,a as s,u as t,w as a,d as o,b as i,t as m,h,F as k,y as x}from"./app-BAe7lWst.js";import{_ as E,a as O,b as U,c as N,d as B,e as F,f as T,g as w,h as v,i as P,j}from"./SelectValue-DpXVVnYr.js";import{_ as M}from"./DialogDescription-nuxDVqcO.js";import{_ as c}from"./createLucideIcon-D3v5KCbW.js";import{u as G,_ as L}from"./index-D0_yCiYr.js";const R={key:0,class:"space-y-4"},z={class:"grid grid-cols-2 gap-4"},A={class:"flex items-center space-x-2"},H={class:"text-sm text-muted-foreground"},J={class:"flex items-center space-x-2"},K={class:"flex items-center space-x-2"},Q={class:"text-sm text-muted-foreground"},W={class:"flex items-center space-x-2"},X={class:"text-sm text-muted-foreground"},Y={class:"border border-gray-300 p-3 rounded-md bg-gray-50 mt-4"},Z={class:"text-sm text-muted-foreground"},ie=D({__name:"InquiryModal",props:{isOpen:Boolean,inquiry:Object},emits:["update:isOpen","refresh-inquiries"],setup(q,{emit:$}){var _;const n=q,{toast:l}=G(),d=$,u=S((_=n.inquiry)==null?void 0:_.status),p=()=>{d("update:isOpen",!1)},b=async()=>{if(n.inquiry)try{const r=await x.put(`/api/inquiries/${n.inquiry.id}`,{status:u.value});p(),l({title:"Success!",description:r.data.message||"The inquiry has been updated.",variant:"success",duration:3e3}),d("refresh-inquiries")}catch(r){console.error("Error updating status:",r),l({title:"Error",description:"Failed to update status. Please try again.",variant:"destructive",duration:3e3})}},C=async()=>{if(n.inquiry)try{const r=await x.delete(`/api/inquiries/${n.inquiry.id}`);p(),l({title:"Deleted!",description:r.data.message||"The inquiry has been deleted.",variant:"success",duration:3e3}),d("refresh-inquiries")}catch(r){console.error("Error deleting inquiry:",r),l({title:"Error",description:"Failed to delete the inquiry. Please try again.",variant:"destructive",duration:3e3})}};return V(()=>n.inquiry,r=>{u.value=(r==null?void 0:r.status)||"pending"},{immediate:!0}),(r,e)=>(y(),g(k,null,[s(t(L)),s(t(j),{open:n.isOpen,"onUpdate:open":e[1]||(e[1]=f=>d("update:isOpen",f))},{default:a(()=>[s(t(E),null,{default:a(()=>[s(t(O),null,{default:a(()=>[s(t(U),null,{default:a(()=>e[2]||(e[2]=[o("Update Inquiry")])),_:1}),s(t(M),null,{default:a(()=>e[3]||(e[3]=[o(" Update the status of the inquiry here. ")])),_:1})]),_:1}),n.inquiry?(y(),g("div",R,[i("div",z,[i("div",A,[e[4]||(e[4]=i("p",{class:"font-semibold text-sm"},"Date:",-1)),i("span",H,m(new Date(n.inquiry.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})),1)]),i("div",J,[e[7]||(e[7]=i("p",{class:"font-semibold text-sm"},"Status:",-1)),s(t(N),{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=f=>u.value=f)},{default:a(()=>[s(t(B),{class:"w-[120px]"},{default:a(()=>[s(t(F),{placeholder:n.inquiry.status.replace(/^./,n.inquiry.status[0].toUpperCase())},null,8,["placeholder"])]),_:1}),s(t(T),null,{default:a(()=>[s(t(w),null,{default:a(()=>[s(t(v),{value:"pending"},{default:a(()=>e[5]||(e[5]=[o("Pending")])),_:1}),s(t(v),{value:"resolved"},{default:a(()=>e[6]||(e[6]=[o("Resolved")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),i("div",K,[e[8]||(e[8]=i("p",{class:"font-semibold text-sm"},"Name:",-1)),i("span",Q,m(n.inquiry.name),1)]),i("div",W,[e[9]||(e[9]=i("p",{class:"font-semibold text-sm"},"Email:",-1)),i("span",X,m(n.inquiry.email),1)])]),i("div",Y,[e[10]||(e[10]=i("p",{class:"font-semibold text-sm"},"Message:",-1)),i("p",Z,m(n.inquiry.message),1)])])):h("",!0),s(t(P),null,{default:a(()=>[s(t(c),{variant:"secondary",onClick:p},{default:a(()=>e[11]||(e[11]=[o("Close")])),_:1}),s(t(c),{variant:"destructive",onClick:C},{default:a(()=>e[12]||(e[12]=[o("Delete")])),_:1}),s(t(c),{variant:"lightGreen",onClick:b},{default:a(()=>e[13]||(e[13]=[o("Save changes")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64))}});export{ie as _};
