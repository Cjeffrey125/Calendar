import{_ as D}from"./createLucideIcon-D3v5KCbW.js";import{u as U,_ as B,a as K,b as O,c as C,d as T,g as j,e as z,f as I,h as L,i as H,j as q,F as S}from"./index-Dbr1IxyS.js";import{v as c}from"./utils-DTaVIxUI.js";import{_ as A}from"./EventModal.vue_vue_type_script_setup_true_lang-BJmIHdZx.js";import{_ as G}from"./UpdateEventModal.vue_vue_type_script_setup_true_lang-CUxaeZW-.js";import{f as J,s as r,x as Q,o as a,g,b as f,a as d,w as o,u as t,F as v,v as p,c as u,d as x,y as W,z as _,h as X}from"./app-BAe7lWst.js";const Y={class:"w-full border border-gray-300 rounded-lg overflow-hidden shadow-md p-4"},Z={class:"flex justify-between items-center mb-4"},ee={class:"rounded-md border"},te={class:"flex items-center justify-end space-x-2 py-4"},ie=J({__name:"EventsList",setup(ne){const b=r([]),y=r(!1),R=r(!1),h=r(null),w=async()=>{try{const e=await W.get("/api/events");b.value=e.data}catch(e){console.error("Error fetching events:",e)}};Q(()=>{w()});const N=e=>{h.value=e.original,y.value=!0},k=e=>e?new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit"}).format(new Date(e)):"-",M=[{accessorKey:"event",header:"Event",cell:({row:e})=>_("div",{},e.getValue("event"))},{accessorKey:"event_type",header:"Type",cell:({row:e})=>_("div",{},e.getValue("event_type"))},{accessorKey:"start_date",header:"Start Date",cell:({row:e})=>_("div",{},k(e.getValue("start_date")))},{accessorKey:"end_date",header:"End Date",cell:({row:e})=>_("div",{},k(e.getValue("end_date")))}],V=r([]),E=r([]),$=r({}),F=r({}),P=r({}),i=U({data:b,columns:M,getCoreRowModel:j(),getPaginationRowModel:z(),getSortedRowModel:I(),getFilteredRowModel:L(),getExpandedRowModel:H(),onSortingChange:e=>c(e,V),onColumnFiltersChange:e=>c(e,E),onColumnVisibilityChange:e=>c(e,$),onRowSelectionChange:e=>c(e,F),onExpandedChange:e=>c(e,P),state:{get sorting(){return V.value},get columnFilters(){return E.value},get columnVisibility(){return $.value},get rowSelection(){return F.value},get expanded(){return P.value}}});return(e,n)=>(a(),g("div",Y,[f("div",Z,[n[4]||(n[4]=f("h2",{class:"text-lg font-semibold"},"University Calendar",-1)),d(A,{isOpen:R.value,"onUpdate:isOpen":n[0]||(n[0]=s=>R.value=s),onRefreshEvents:w},null,8,["isOpen"])]),f("div",ee,[d(t(T),null,{default:o(()=>[d(t(B),null,{default:o(()=>[(a(!0),g(v,null,p(t(i).getHeaderGroups(),s=>(a(),u(t(C),{key:s.id},{default:o(()=>[(a(!0),g(v,null,p(s.headers,l=>(a(),u(t(q),{key:l.id},{default:o(()=>[l.isPlaceholder?X("",!0):(a(),u(t(S),{key:0,render:l.column.columnDef.header,props:l.getContext()},null,8,["render","props"]))]),_:2},1024))),128))]),_:2},1024))),128))]),_:1}),d(t(K),null,{default:o(()=>{var s;return[(s=t(i).getRowModel().rows)!=null&&s.length?(a(!0),g(v,{key:0},p(t(i).getRowModel().rows,l=>(a(),u(t(C),{key:l.id,"data-state":l.getIsSelected()&&"selected",onClick:m=>N(l)},{default:o(()=>[(a(!0),g(v,null,p(l.getVisibleCells(),m=>(a(),u(t(O),{key:m.id},{default:o(()=>[d(t(S),{render:m.column.columnDef.cell,props:m.getContext()},null,8,["render","props"])]),_:2},1024))),128))]),_:2},1032,["data-state","onClick"]))),128)):(a(),u(t(C),{key:1},{default:o(()=>[d(t(O),{colspan:M.length,class:"h-24 text-center"},{default:o(()=>n[5]||(n[5]=[x(" No results. ")])),_:1},8,["colspan"])]),_:1}))]}),_:1})]),_:1})]),f("div",te,[d(t(D),{variant:"outline",size:"sm",disabled:!t(i).getCanPreviousPage(),onClick:n[1]||(n[1]=s=>t(i).previousPage())},{default:o(()=>n[6]||(n[6]=[x("Previous")])),_:1},8,["disabled"]),d(t(D),{variant:"outline",size:"sm",disabled:!t(i).getCanNextPage(),onClick:n[2]||(n[2]=s=>t(i).nextPage())},{default:o(()=>n[7]||(n[7]=[x("Next")])),_:1},8,["disabled"])]),d(G,{isOpen:y.value,event:h.value,"onUpdate:isOpen":n[3]||(n[3]=s=>y.value=s),onRefreshEvents:w},null,8,["isOpen","event"])]))}});export{ie as _};
