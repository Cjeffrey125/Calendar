import{f as T,s as u,o as U,g as B,a as t,u as a,w as s,d as o,b as l,A as d,B as r,F as N,y as O}from"./app-C4rsE1eo.js";import{_ as F,a as M,b as Y,c as A,d as H,e as P,f as j,g as G,h as i,i as L,j as q}from"./SelectValue-DQDkT4Co.js";import{_ as z}from"./DialogDescription-CnMDAKJp.js";import{_ as I}from"./DialogTrigger-DqdjWq7b.js";import{_ as S}from"./createLucideIcon-DUV5-TZw.js";import{u as J,_ as K}from"./index-BB28ZKt7.js";const Q={class:"space-y-4 mb-8"},R={class:"flex space-x-4"},W={class:"w-full"},X={class:"w-full"},Z={class:"flex space-x-4 mt-4"},c={class:"w-full"},h={class:"w-full"},oe=T({__name:"EventModal",props:{isOpen:Boolean},emits:["update:isOpen","refresh-events"],setup(g,{emit:C}){const{toast:E}=J(),D=g,v=u(""),f=u(""),m=u(""),p=u(""),b=u(""),x=u(""),_=u(""),y=u(""),$=C,V=()=>{$("update:isOpen",!1)},k=async()=>{if(!v.value||!f.value||!m.value||!p.value||!b.value){E({title:"Error Creating the Event",description:"Please fill in all fields before submitting.",variant:"destructive"});return}try{const w={event:v.value,details:f.value,event_type:m.value,start_date:p.value,end_date:b.value,start_time:x.value?`${x.value}:00`:null,end_time:_.value?`${_.value}:00`:null,location:y.value};(await O.post("/api/events",w)).status===201&&(E({title:"Event Created",description:`${v.value} has been created successfully.`,variant:"success"}),v.value="",f.value="",m.value="",p.value="",b.value="",x.value="",_.value="",y.value="",V(),$("refresh-events"))}catch(w){E({title:"Error",description:"Something went wrong while creating the user. Please try again.",variant:"destructive"}),console.error("Error creating user:",w)}};return(w,e)=>(U(),B(N,null,[t(a(K)),t(a(q),{open:D.isOpen,"onUpdate:open":e[8]||(e[8]=n=>$("update:isOpen",n))},{default:s(()=>[t(a(I),{"as-child":""},{default:s(()=>[t(a(S),{variant:"outline"},{default:s(()=>e[9]||(e[9]=[o(" Create Event ")])),_:1})]),_:1}),t(a(F),null,{default:s(()=>[t(a(M),null,{default:s(()=>[t(a(Y),null,{default:s(()=>e[10]||(e[10]=[o("Create Event")])),_:1}),t(a(z),null,{default:s(()=>e[11]||(e[11]=[o(" Create the event here. Click save when you're done. ")])),_:1})]),_:1}),l("div",Q,[l("div",null,[e[12]||(e[12]=l("label",{class:"font-semibold text-sm"},"Event Name:",-1)),d(l("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>v.value=n),class:"w-full border rounded p-2",type:"text"},null,512),[[r,v.value]])]),l("div",null,[e[13]||(e[13]=l("label",{class:"font-semibold text-sm block mb-1 mt-4"},"Location:",-1)),d(l("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>y.value=n),class:"w-full border rounded p-2 h-10",type:"text"},null,512),[[r,y.value]])]),l("div",null,[e[14]||(e[14]=l("label",{class:"font-semibold text-sm"},"Details:",-1)),d(l("textarea",{"onUpdate:modelValue":e[2]||(e[2]=n=>f.value=n),class:"w-full border rounded p-2",rows:"3"},null,512),[[r,f.value]])]),l("div",null,[e[23]||(e[23]=l("label",{class:"font-semibold text-sm"},"Event Type:",-1)),t(a(A),{modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=n=>m.value=n)},{default:s(()=>[t(a(H),{class:"w-full"},{default:s(()=>[t(a(P),{placeholder:m.value||"Select Type"},null,8,["placeholder"])]),_:1}),t(a(j),null,{default:s(()=>[t(a(G),null,{default:s(()=>[t(a(i),{value:"Start of School Year"},{default:s(()=>e[15]||(e[15]=[o("Start of School Year")])),_:1}),t(a(i),{value:"End of School Year"},{default:s(()=>e[16]||(e[16]=[o("End of School Year")])),_:1}),t(a(i),{value:"Midterm"},{default:s(()=>e[17]||(e[17]=[o("Midterm")])),_:1}),t(a(i),{value:"Finals"},{default:s(()=>e[18]||(e[18]=[o("Finals")])),_:1}),t(a(i),{value:"Holiday"},{default:s(()=>e[19]||(e[19]=[o("Holiday")])),_:1}),t(a(i),{value:"Seminars"},{default:s(()=>e[20]||(e[20]=[o("Seminars")])),_:1}),t(a(i),{value:"Academic Events"},{default:s(()=>e[21]||(e[21]=[o("Academic Events")])),_:1}),t(a(i),{value:"Examination Day"},{default:s(()=>e[22]||(e[22]=[o("Examination Day")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),l("div",R,[l("div",W,[e[24]||(e[24]=l("label",{class:"font-semibold text-sm block mb-1"},"Start Date:",-1)),d(l("input",{"onUpdate:modelValue":e[4]||(e[4]=n=>p.value=n),class:"border rounded p-2 w-full h-10",type:"date"},null,512),[[r,p.value]])]),l("div",X,[e[25]||(e[25]=l("label",{class:"font-semibold text-sm block mb-1"},"End Date:",-1)),d(l("input",{"onUpdate:modelValue":e[5]||(e[5]=n=>b.value=n),class:"border rounded p-2 w-full h-10",type:"date"},null,512),[[r,b.value]])])]),l("div",Z,[l("div",c,[e[26]||(e[26]=l("label",{class:"font-semibold text-sm block mb-1"},"Start Time:",-1)),d(l("input",{"onUpdate:modelValue":e[6]||(e[6]=n=>x.value=n),class:"border rounded p-2 w-full h-10",type:"time"},null,512),[[r,x.value]])]),l("div",h,[e[27]||(e[27]=l("label",{class:"font-semibold text-sm block mb-1"},"End Time:",-1)),d(l("input",{"onUpdate:modelValue":e[7]||(e[7]=n=>_.value=n),class:"border rounded p-2 w-full h-10",type:"time"},null,512),[[r,_.value]])])])]),t(a(L),null,{default:s(()=>[t(a(S),{variant:"secondary",onClick:V},{default:s(()=>e[28]||(e[28]=[o("Close")])),_:1}),t(a(S),{variant:"lightGreen",onClick:k},{default:s(()=>e[29]||(e[29]=[o("Save")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64))}});export{oe as _};
